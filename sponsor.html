<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sponsor Dashboard - ODDSOCEAN</title>
  <link rel="stylesheet" href="dashboard.css">
</head>
<body>
  <!-- Header -->
  <header>
    <h1>ODDSOCEAN Sponsor Dashboard</h1>
    <img src="OOCN.png" alt="Logo" class="logo">
  </header>

  <!-- Container -->
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <button onclick="loadForm('news')">News</button>
      <button onclick="loadForm('workdone')">Sponsorship Details</button>
      <button onclick="loadForm('funds')">Funds Provided</button>
      <button onclick="loadForm('collab')">Collaborations</button>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <h2 id="form-title">Choose an Option</h2>
      <form id="dynamic-form">
        <p>Select a category to load its content.</p>
      </form>
      <div id="preview"></div>
      <div class="progress-container">
        <div id="progress-bar"></div>
      </div>
    </main>
  </div>

  <!-- JS -->
  <script>
    function loadForm(type) {
      let form = document.getElementById("dynamic-form");
      let title = document.getElementById("form-title");
      let preview = document.getElementById("preview");

      preview.innerHTML = "";
      form.innerHTML = "";

      if (type === "workdone") {
        title.innerText = "Sponsorship Details";
        form.innerHTML = `
          <label>Sponsorship Title / Brand:</label>
          <input type="text" required>
          <label>Description:</label>
          <textarea></textarea>
          <label>Upload Agreement (PDF/Image):</label>
          <input type="file" id="fileUpload" accept="application/pdf,image/*">
          <button type="submit">Save Sponsorship</button>
        `;
      }
      else if (type === "funds") {
        title.innerText = "Funds Provided";
        form.innerHTML = `
          <label>Amount Invested (â‚¹):</label>
          <input type="number" required>
          <label>Investment Date:</label>
          <input type="date" required>
          <button type="submit">Save Funds</button>
        `;
      }
      else if (type === "collab") {
        title.innerText = "Collaborations";
        form.innerHTML = `
          <label>Collaboration Name:</label>
          <input type="text" required>
          <label>Details:</label>
          <textarea></textarea>
          <label>Upload Proof (PDF/Image):</label>
          <input type="file" id="fileUpload" accept="application/pdf,image/*">
          <button type="submit">Save Collaboration</button>
        `;
      }
      else if (type === "news") {
        title.innerText = "Sponsor News";
        form.innerHTML = `<div id="news-list">Loading news...</div>`;
        fetchNews();
      }

      // File Preview
      form.querySelectorAll("#fileUpload").forEach(input => {
        input.addEventListener("change", function() {
          preview.innerHTML = "";
          const file = this.files[0];
          if (file) {
            if (file.type.startsWith("image")) {
              const url = URL.createObjectURL(file);
              preview.innerHTML = `<img src="${url}" style="max-width:300px; margin-top:10px;">`;
            } else if (file.type === "application/pdf") {
              preview.innerHTML = `<p>PDF Uploaded: ${file.name}</p>`;
            }
          }
        });
      });

      // Progress Bar
      form.addEventListener("submit", function(e) {
        e.preventDefault();
        let bar = document.getElementById("progress-bar");
        bar.style.width = "100%";
        bar.innerText = "Progress 100% - Saved!";
      });
    }

    // Dummy News Fetch
    function fetchNews() {
      const newsContainer = document.getElementById("news-list");
      newsContainer.innerHTML = `
        <div class="news-item">
          <h3>ODDSOCEAN Secures Major Sponsor</h3>
          <p>A new sponsorship deal boosts upcoming tournaments.</p>
        </div>
        <div class="news-item">
          <h3>Investor Growth</h3>
          <p>More investors are showing interest in ODDSOCEAN projects.</p>
        </div>
      `;
    }
  </script>
</body>
</html>
